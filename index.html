<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>模组下载站点</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
        }
        .container {
            display: flex;
            height: calc(100vh - 20px);
            margin: 10px;
        }
        .sidebar {
            width: 250px;
            background: white;
            border-right: 1px solid #ddd;
            padding: 10px;
            overflow-y: auto;
            position: relative;
        }
        .main-content {
            flex-grow: 1;
            padding: 20px;
            background: white;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .mod-list, .version-list {
            list-style: none;
            padding: 0;
        }
        .mod-list li {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eaeaea;
            position: relative;
        }
        .mod-list li:last-child {
            border-bottom: none;
        }
        .version-list {
            display: none;
            padding: 0;
            background: #fff3f3; /* 粉色背景 */
            margin-top: 10px;
            border-radius: 5px;
            overflow: hidden;
        }
        .version-list li {
            padding: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .version-list li.selected {
            background: #ffd8d8;
        }
        .download-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 20px auto;
            background-color: #007BFF;
            color: white;
            text-align: center;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .download-btn:hover {
            background-color: #0056b3;
        }
        .download-btn[disabled] {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .selection-feedback {
            margin-top: 10px;
            text-align: center;
            color: #007BFF;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: auto;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="sidebar">
        <ul class="mod-list">
            <li data-versions='[{"version": "Fabric-mc1.20.1-0.5.8", "url": "https://116-142-255-139.pd1.cjjd19.com:30443/download-cdn.cjjd19.com/123-843/dc025e23/1812148260-0/dc025e23d1e4234bc39e3386eae23f4b/c-m31?v=5&t=1721485088&s=1721485088b25d0095753c97db3b8aad2c2f519585&r=7GODV5&bzc=2&bzs=313833303333333337343a37333530313937373a3933303334333a30&filename=sodium-fabric-mc1.20.1-0.5.8-con-edit-v2.jar&x-mf-biz-cid=c32213df-fb1f-4b85-a4d7-48bdc5daffba-584000&auto_redirect=0&cache_type=1&xmfcid=e3f8c018-682c-4082-bd7f-cd0d49892eee-1-50111d3b1"}, {"version": "Fabric-mc1.20.2-0.5.5", "url": "https://116-142-255-140.pd1.cjjd19.com:30443/download-cdn.cjjd19.com/123-417/58b9a40b/1812148260-0/58b9a40b3a778cf6d599231de547eda1/c-m27?v=5&t=1721485247&s=17214852470aa3cac4ba0709d99026ecc5c13fff45&r=O0766T&bzc=2&bzs=313833303333333337343a37333530313937383a3931363634393a30&filename=sodium-fabric-mc1.20.2-0.5.5-con-edit.jar&x-mf-biz-cid=ff7260af-fb25-4b9e-ab20-8ade62a5f8a4-c4937c&auto_redirect=0&cache_type=1&xmfcid=0d2f131d-0ebe-4c9d-91e6-f5aef6670680-0-50111d3b1"}, {"version": "Fabric-mc1.20.4-0.5.8", "url": "https://116-142-255-137.pd1.cjjd19.com:30443/download-cdn.cjjd19.com/123-17/eefb5f45/1812148260-0/eefb5f4532ed1aa6929de809d8b5cc11/c-m27?v=5&t=1721485486&s=1721485486cc1241b1b10b5587c9228c36fc40f31d&r=NFOLE9&bzc=2&bzs=313833303333333337343a37333530313937393a3934383932343a30&filename=sodium-fabric-mc1.20.4-0.5.8-con-edit.jar&x-mf-biz-cid=1e855bb5-45a0-4aeb-925f-e1f7c629972d-584000&auto_redirect=0&cache_type=1&xmfcid=143b6423-82c5-4199-94b2-8dc4ed66d56f-0-50111d3b1"}, {"version": "Fabric-mc1.20.5-0.5.8", "url": "https://116-142-255-142.pd1.cjjd19.com:30443/download-cdn.cjjd19.com/123-343/be833400/1812148260-0/be833400267bade444e19f39bed2d957/c-m34?v=5&t=1721485695&s=1721485695d0dfa1d0ebe8668bd7ee508028a8ea97&r=ZVD8DS&bzc=2&bzs=313833303333333337343a37333530313938303a3936363431383a30&filename=sodium-fabric-0.5.8%2Bmc1.2.0.5-con-edit.jar&x-mf-biz-cid=ff25f4c6-0f72-42ba-8ed6-1e1bfd054cec-3dab77&auto_redirect=0&cache_type=1&xmfcid=c4a354c9-dade-4cf7-ae03-101c7f6de2ea-1-50111d3b1"}, {"version": "Fabric-mc1.20.6-0.5.8", "url": "https://116-142-255-138.pd1.cjjd19.com:30443/download-cdn.cjjd19.com/123-896/20d54433/1813927909-0/20d54433c0c8d251f2e0b1d30ce40380/c-m34?v=5&t=1721485761&s=17214857617e12651e2cdbb2682a71e635a5b894a2&r=VPD35P&bzc=2&bzs=313833303333333337343a37333530313938313a3933393430393a30&filename=sodium-fabric-0.5.8%2Bmc1.20.6-con-edit.jar&x-mf-biz-cid=39e2d099-a9d8-418e-b18c-aa90098641a9-3dab77&auto_redirect=0&cache_type=1&xmfcid=02fb0ae7-5a87-44a3-a866-bfe6618880c6-1-50111d3b1"}, {"version": "Fabric-mc1.21-0.5.9", "url": "https://116-142-255-137.pd1.cjjd19.com:30443/download-cdn.cjjd19.com/123-848/349e85c5/1812148260-0/349e85c53e0d67ae482f2d0e16991b50/c-m44?v=5&t=1721485806&s=17214858067d0a4df840bf0e30469e9b7f483d1a6b&r=UCBBLO&bzc=2&bzs=313833303333333337343a37333530313938323a3936373730363a30&filename=sodium-fabric-0.5.9%2Bmc1.21-con-edit.jar&x-mf-biz-cid=543a7731-f52e-4368-92f9-1d7cd0818313-6eaa77&auto_redirect=0&cache_type=1&xmfcid=a9bb5f0a-c796-4e83-8de3-83a5defe8368-1-50111d3b1"}]'>钠(Sodium)魔改版</li>
        </ul>
    </div>
    <div class="main-content">
        <div class="header">
            <h1>下载所选模组版本</h1>
            <div class="selection-feedback" id="selectionFeedback">未选择任何版本</div>
        </div>
        <a id="downloadButton" class="download-btn" href="#" disabled>下载</a>
    </div>
</div>

<script>
    var downloadButton = document.getElementById('downloadButton');
    var selectionFeedback = document.getElementById('selectionFeedback');
    var modList = document.querySelector('.mod-list');

    // 初始化 - 为每个模组绑定点击事件
    document.querySelectorAll('.mod-list li').forEach(function(mod) {
     mod.addEventListener('click', function() {
            // 显示当前模组的版本列表，隐藏其他版本列表
            document.querySelectorAll('.version-list').forEach(function(list) {
                if (list.parentNode) {
                    list.parentNode.removeChild(list);
                }
            });

            let versionList = document.createElement('ul');
            versionList.className = 'version-list';
            this.appendChild(versionList);

            // 填充版本列表
            const versions = JSON.parse(this.getAttribute('data-versions'));
            versions.forEach(function(version) {
                const item = document.createElement('li');
                item.textContent = version.version;
                item.dataset.url = version.url;
                item.addEventListener('click', function() {
                    // 切换选中状态
                    this.classList.toggle('selected');
                    // 更新下载按钮状态和链接
                    updateDownloadButton();
                    // 更新选择反馈
                    updateSelectionFeedback();
                });
                versionList.appendChild(item);
            });
            versionList.style.display = 'block';
        });
    });

    // 更新下载按钮状态和链接
    function updateDownloadButton() {
        const selectedLi = document.querySelector('.version-list li.selected');
        const selectedUrl = selectedLi ? selectedLi.dataset.url : null;
        downloadButton.href = selectedUrl;
        downloadButton.disabled = !selectedUrl;
        if (selectedUrl) {
            downloadButton.textContent = '下载 ' + selectedLi.textContent;
        } else {
            downloadButton.textContent = '下载';
        }
    }

    // 更新选择反馈
    function updateSelectionFeedback() {
        const selectedLis = document.querySelectorAll('.version-list li.selected');
        const feedbackText = selectedLis.length 
            ? `已选择版本：${Array.from(selectedLis).map(li => li.textContent).join(', ')}` 
            : '未选择任何版本';
        selectionFeedback.textContent = feedbackText;
    }

    // 点击空白区域隐藏版本列表
    document.body.addEventListener('click', function(e) {
        const clickedOutside = !modList.contains(e.target) && !e.target.closest('.version-list li');
        if (clickedOutside) {
            document.querySelectorAll('.version-list').forEach(function(list) {
                if (list.parentNode) {
                    list.parentNode.removeChild(list);
                }
            });
            updateSelectionFeedback();
            updateDownloadButton();
        }
    });
</script>
</body>
</html>